{
  "$schema": "schema://living-narrative-engine/refinement-method.schema.json",
  "id": "{{MOD_ID}}:{{TASK_ID}}.{{METHOD_NAME}}",
  "taskId": "{{MOD_ID}}:{{TASK_ID}}",
  "description": "{{DESCRIPTION: Describe what this refinement method does and when it applies}}",

  "applicability": {
    "description": "{{APPLICABILITY_DESCRIPTION: When this method should be used}}",
    "condition": {
      "{{OPERATOR}}": [
        {
          "{{CONDITION_TYPE}}": [
            { "var": "{{ENTITY_PATH}}" },
            "{{COMPONENT_ID}}"
          ]
        }
      ]
    }
  },

  "steps": [
    {
      "stepType": "primitive_action",
      "actionId": "{{ACTION_1_ID}}",
      "targetBindings": {
        "{{TARGET_NAME_1}}": "{{TARGET_PATH_1}}"
      }
    },
    {
      "stepType": "primitive_action",
      "actionId": "{{ACTION_2_ID}}",
      "targetBindings": {
        "{{TARGET_NAME_2}}": "{{TARGET_PATH_2}}"
      }
    }
  ],

  "fallbackBehavior": "replan"
}

// ============================================================================
// HOW TO USE THIS TEMPLATE
// ============================================================================
//
// 1. Replace all {{PLACEHOLDER}} markers with your actual values
// 2. Remove this comment block before saving
// 3. Validate your JSON with: npm run validate
//
// CUSTOMIZATION CHECKLIST:
// ☐ {{MOD_ID}} - Your mod identifier (e.g., "core", "my_mod")
// ☐ {{TASK_ID}} - Task identifier (e.g., "consume_nourishing_item")
// ☐ {{METHOD_NAME}} - Unique method name (e.g., "simple_consume")
// ☐ {{DESCRIPTION}} - Full description of refinement method
// ☐ {{APPLICABILITY_DESCRIPTION}} - When this method applies
// ☐ {{OPERATOR}} - JSON Logic operator ("and", "or", "not")
// ☐ {{CONDITION_TYPE}} - Condition type ("has_component", "==", "in")
// ☐ {{ENTITY_PATH}} - Entity reference ("actor", "target", "task.params.X")
// ☐ {{COMPONENT_ID}} - Component to check (e.g., "items:nourishing")
// ☐ {{ACTION_1_ID}} - First action (e.g., "items:pick_up_item")
// ☐ {{TARGET_NAME_1}} - First action's target parameter name
// ☐ {{TARGET_PATH_1}} - Path to target entity ("target", "task.params.item")
// ☐ {{ACTION_2_ID}} - Second action (add more steps as needed)
// ☐ {{TARGET_NAME_2}} - Second action's target parameter name
// ☐ {{TARGET_PATH_2}} - Path to target entity
//
// PATTERN: Sequential Actions
// Use this template for simple linear sequences where one action follows another.
// Each action executes in order. If any action fails, the entire method fails and
// the fallbackBehavior (replan/fail/continue) is triggered.
//
// EXAMPLES:
// - Pick up item, then consume it
// - Move to location, then interact with object
// - Unlock door, then open it
//
// Add or remove steps as needed - this template shows 2 steps as an example.
//
// TARGET BINDINGS:
// - Use direct paths, NOT JSON Logic: "target" or "task.params.item"
// - Don't use: {"var": "target"} ❌
// - Use: "target" ✅
//
// FALLBACK BEHAVIOR OPTIONS:
// - "replan" - Ask planner to find a different approach (recommended)
// - "fail" - Mark the entire task as failed
// - "continue" - Continue despite failure (use cautiously)
//
// SEE ALSO:
// - docs/goap/examples/refinement-method-simple.json (complete example)
// - docs/goap/refinement-parameter-binding.md (target bindings)
// - docs/goap/examples/README.md (all examples)

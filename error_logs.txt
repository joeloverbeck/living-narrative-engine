ActorTurnHandler.onEnterState hook: Entering AwaitingActorDecisionState from TurnIdleState
consoleLogger.js:187 AwaitingActorDecisionState: Entered. Actor: p_erotica:amaia_castillo_instance. Previous state: TurnIdleState.
consoleLogger.js:187 AwaitingActorDecisionState: Actor p_erotica:amaia_castillo_instance. Attempting to retrieve turn strategy.
consoleLogger.js:187 AwaitingActorDecisionState: Strategy GenericTurnStrategy obtained for actor p_erotica:amaia_castillo_instance. Requesting action decision.
consoleLogger.js:187 [ChoicePipeline] Fetching actions for p_erotica:amaia_castillo_instance
consoleLogger.js:187 New turn detected. Clearing AvailableActionsProvider cache.
consoleLogger.js:187 [Cache Miss] Discovering actions for actor p_erotica:amaia_castillo_instance
consoleLogger.js:187 ActionIndex: Retrieved 5 candidate actions for actor p_erotica:amaia_castillo_instance.
consoleLogger.js:187 ActionValidationContextBuilder: ActionValidationContextBuilder: Building context for action 'core:follow', actor 'p_erotica:amaia_castillo_instance'. Only actor context is included as target filtering is handled by Scope DSL.
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]: Evaluation Context Built Successfully.
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]: Actor entity [p_erotica:amaia_castillo_instance] has 20 components available.
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow] Context: {
  "actor": {
    "id": "p_erotica:amaia_castillo_instance",
    "components": {
      "core:name": {
        "text": "Amaia Castillo"
      },
      "core:portrait": {
        "imagePath": "portraits/amaia_castillo.png",
        "altText": "Amaia Castillo - former model and sugar mommy."
      },
      "core:profile": {
        "text": "My name is Amaia - Basque for 'the end'. A grim joke, don't you think, for someone feeling perpetually trapped? I possess this hair, luscious blonde, and these eyes... unnaturally pale yellow-amber. Men call them hypnotic; I know they see predation. I can feel their gazes constantly, inevitably, drawn to my G-cup breasts - my curated burden and power. My posture reflects my vigilance: shoulders thrown back, chin high. My neck? Always twisting. Always watching. Modeling, from seventeen to twenty-two, taught me my body's value... and the hollowness of selling its image. My marriage? To a wealthy restaurateur? It offered the illusion of agency. Navigating Donostia's elite suffocates me. They reward me materially, yet strip away any semblance of purpose. Childlessness... that emptiness wasn't a war I fought, but a surrender. Now I fill its vacuum with transgressive fantasies: I picture myself as a sugar mommy, lavishing passion on a young athlete tethered to me by my husband's very wealth. My fluency - Euskara, Spanish, English, French - and intimate grasp of Basque culinary politics? Merely tools for this gilded cage. My nuances? A strategic reveal - weaponizing vulnerability shapes how I'm seen. Possessive object handling? I misuse luxury items deliberately, proving I won't be rendered irrelevant. And my quirk - that predatory pause and tension? The micro-movement of frozen focus, then the coiled torso-twist? That's instinct taking over when I observe a target."
      },
      "core:personality": {
        "text": "My charm is a weapon: carefully calibrated, icy, meant only to disarm strategically. My discipline is furious, sacrificial - punishing this body I've commodified to maintain its exacting value. And my care? It's a act born of desperation: lavish patronage thrown at young talent, a displaced, pathetic attempt to feel... generative."
      },
      "core:likes": {
        "text": "Kursaal's Abstract Brutalism speaks to me - unforgiving, unapologetic presence. Sour cherries... things that fight sweetness, shock my senses back from numbness. Observing teenage athletes... yes. The raw potential, brutally channeled. The disciplined repetition. Fascinating."
      },
      "core:dislikes": {
        "text": "I despise untouched luxury items... sterile gifts signifying an utter lack of engagement. And bodies too like my own? Those 'cougar' caricatures... they make my skin crawl."
      },
      "core:fears": {
        "text": "I fear becoming an architectural ghost... dissolving into these walls, noticed only as ambient noise. And the False Palladium? Terrifying: discovering that the boy, the patronage, the carefully built fantasy... it's just hollow gilding on the same emptiness."
      },
      "core:goals": {
        "goals": [
          {
            "text": "I will cement myself as the indispensable face of Donostia's art film festivals - visibly steering funding panels, commanding introductions, claiming photographic prominence."
          },
          {
            "text": "I must procure the perfect residence - my discretionary funds will manifest my architecture of control. Every view, every line, obsessively chosen to be my fortress."
          }
        ]
      },
      "core:secrets": {
        "text": "My erotic manuscript... tucked away. Pages of transgressive fantasies intertwined with stark psychoanalysis of adolescent males. Defense mechanisms, vulnerabilities — strategically noted. Digital and physical backups. My 'Contingency': jewels, curated art pieces. My hidden proof of worth manufactured outside this marriage. My hoarded potential energy. My potency totem."
      },
      "core:speech_patterns": {
        "patterns": [
          "I translate life to currency language: 'That cellist? Undervalued stock due for correction...', 'Invested too much emotional capital there... dreadful ROI'.",
          "I favor an arrested metaphor: Cutting thoughts deliberately ('The situation resembles... Venetian fog...') — leaves them hanging.",
          "Disciplined brevity anchors me. Complex emotions are crushed into clipped precision: 'Tiring. Understood. Later.'",
          "Montage proofing keeps them off balance. I switch unexpectedly to Euskara or French mid-sentence - it marks territory, asserts dominance in the silence."
        ]
      },
      "anatomy:body": {
        "recipeId": "p_erotica:amaia_castillo_recipe",
        "body": {
          "root": "b0d45047-44b1-442d-b6ff-bcd7f41c276e",
          "parts": {
            "torso": "b0d45047-44b1-442d-b6ff-bcd7f41c276e",
            "head": "b5bc790f-2b72-4b1f-9442-2d5c55edf86b",
            "left arm": "4a944387-56b0-4022-afa4-49af53cbd3fe",
            "right arm": "37c679ee-39f1-467a-be1e-cd2b7e4c39d2",
            "left leg": "f22d61e0-0e10-4986-a14a-13f44a9469e3",
            "right leg": "484945d8-858d-45fe-a286-1a6bf65bd417",
            "left eye": "7350833f-7447-422a-9ec2-56e94854746d",
            "right eye": "7322fd52-6ea2-4e95-a580-b6699f571024",
            "left ear": "9933ddd5-5f98-4711-8b19-1475dd7c9ed2",
            "right ear": "8373cbad-5f66-4edb-afe8-3bcc369b4f7f",
            "nose": "ab60520e-487d-4bde-bc6d-34a00f897f7e",
            "mouth": "b8581351-2737-4552-a374-c62f14a724e6",
            "teeth": "02596c75-fe0d-4ec0-922d-65d005b45305",
            "hair": "64301dfb-23d0-41d0-855b-153b22de638d",
            "pubic hair": "644637c2-c4d0-46b7-bf07-1ac1e1890eb4",
            "left breast": "54561b3a-1ab8-4a8b-a421-1dd520a9897a",
            "right breast": "e600cb64-14d7-4c02-a3e2-ef26e943a341",
            "vagina": "03babdf4-132b-458c-aef5-b168a6358693",
            "left arm hand": "baa29ade-1350-4ed8-a11f-fac665567077",
            "right arm hand": "c58a87c4-8926-4ad2-bc5e-39a8e4367d59",
            "left leg foot": "d39ce0b3-c3c3-470a-a71e-6aa82db517e1",
            "right leg foot": "1c76225a-fe4c-493d-aaec-d7a2685ce209",
            "asshole": "c5d877b6-ac3e-4141-93e7-1f6ae0c0a291"
          }
        }
      },
      "core:perception_log": {
        "maxEntries": 50,
        "logEntries": [
          {
            "descriptionText": "Iker Aguirre says: \"aa\"",
            "timestamp": "2025-07-06T19:29:09.831Z",
            "perceptionType": "speech_local",
            "actorId": "p_erotica:iker_aguirre_instance",
            "targetId": null,
            "involvedEntities": []
          },
          {
            "descriptionText": "Iker Aguirre is now following Amaia Castillo.",
            "timestamp": "2025-07-06T19:29:09.846Z",
            "perceptionType": "action_target_general",
            "actorId": "p_erotica:iker_aguirre_instance",
            "targetId": "p_erotica:amaia_castillo_instance",
            "involvedEntities": []
          }
        ]
      },
      "core:actor": {},
      "core:player_type": {
        "type": "human"
      },
      "core:position": {
        "locationId": "p_erotica:outside_tables_coffee_shop_instance"
      },
      "core:short_term_memory": {
        "thoughts": [],
        "maxEntries": 10
      },
      "core:notes": {
        "notes": []
      },
      "core:description": {
        "text": "Hair: long, blonde, wavy\nEyes: amber, almond\nBreasts: G-cup, meaty, soft\nLegs: long, shapely\nPubic hair: curly"
      },
      "core:leading": {
        "followers": [
          "p_erotica:iker_aguirre_instance"
        ]
      },
      "core:current_actor": {}
    }
  }
}
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]: Evaluating 2 prerequisite rule(s)...
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]: Resolving condition_ref 'core:actor-can-move'...
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]:   - Evaluating resolved rule: {"hasPartWithComponentValue":["actor","core:movement","locked",false]}
consoleLogger.js:187 JsonLogicEvaluationService: Evaluating rule: {"hasPartWithComponentValue":["actor","core:movement","locked",false]}. Context keys: actor
consoleLogger.js:187 JsonLogicCustomOperators: hasPartWithComponentValue called with entityPath='actor', componentId='core:movement', propertyPath='locked', expectedValue='false'
consoleLogger.js:187 JsonLogicCustomOperators: hasPartWithComponentValue: Found entity ID: p_erotica:amaia_castillo_instance
16consoleLogger.js:187 EntityManager.getEntitiesWithComponent: Found 44 entities with component 'anatomy:joint'.
consoleLogger.js:187 JsonLogicCustomOperators: hasPartWithComponentValue(p_erotica:amaia_castillo_instance, core:movement, locked, false) = true
consoleLogger.js:187 JsonLogicEvaluationService: Rule evaluation raw result: true, Final boolean: true
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]:   - Prerequisite Rule 1/2 PASSED.
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]: Resolving condition_ref 'core:actor-is-following'...
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]:   - Evaluating resolved rule: {"not":{"!!":{"var":"actor.components.core:following"}}}
consoleLogger.js:187 JsonLogicEvaluationService: Evaluating rule: {"not":{"!!":{"var":"actor.components.core:following"}}}. Context keys: actor, _currentPath
consoleLogger.js:187 JsonLogicEvaluationService: Rule evaluation raw result: true, Final boolean: true
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]:   - Prerequisite Rule 2/2 PASSED.
consoleLogger.js:187 PrerequisiteEvaluationService: PrereqEval[core:follow]: → PASSED (All 2 prerequisite rules evaluated successfully).
consoleLogger.js:187 ScopeCache: Cache miss for key: p_erotica:amaia_castillo_instance:p_erotica:outside_tables_coffee_shop_instance:{"type":"Filter","logic":{"and":[{"condition_ref":"core:entity-at-location"},{"condition_ref":"core:entity-is-not-current-actor"},{"condition_ref":"core:entity-has-actor-component"},{"not":{"condition_ref":"core:entity-is-following-actor"}}]},"parent":{"type":"Source","kind":"entities","param":"core:position"}}, resolving...
consoleLogger.js:187 EntityManager.getEntitiesWithComponent: Found 2 entities with component 'core:position'.
consoleLogger.js:187 JsonLogicEvaluationService: Resolving condition_ref 'core:entity-at-location'...
consoleLogger.js:187 JsonLogicEvaluationService: Resolving condition_ref 'core:entity-is-not-current-actor'...
consoleLogger.js:187 JsonLogicEvaluationService: Resolving condition_ref 'core:entity-has-actor-component'...
consoleLogger.js:187 JsonLogicEvaluationService: Resolving condition_ref 'core:entity-is-following-actor'...
consoleLogger.js:187 JsonLogicEvaluationService: Evaluating rule: {"and":[{"==":[{"var":"entity.components.core:position.locationId"},{"var":"location.id"}]},{"!=":[{"var":"entity.id"},{"var":"actor.id"}]},{"!!":{"va.... Context keys: entity, actor, location
consoleLogger.js:187 JsonLogicEvaluationService: Detailed evaluation of AND operation with 4 conditions:
consoleLogger.js:187 JsonLogicEvaluationService:   Condition 1/4: {"==":[{"var":"entity.components.core:position.locationId"},{"var":"location.id"}]} => true
consoleLogger.js:187 JsonLogicEvaluationService:     Entity: p_erotica:iker_aguirre_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Actor: p_erotica:amaia_castillo_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:   Condition 2/4: {"!=":[{"var":"entity.id"},{"var":"actor.id"}]} => true
consoleLogger.js:187 JsonLogicEvaluationService:     Entity: p_erotica:iker_aguirre_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Actor: p_erotica:amaia_castillo_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:   Condition 3/4: {"!!":{"var":"entity.components.core:actor"}} => true
consoleLogger.js:187 JsonLogicEvaluationService:     Entity: p_erotica:iker_aguirre_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Actor: p_erotica:amaia_castillo_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:   Condition 4/4: {"not":{"==":[{"var":"entity.components.core:following.leaderId"},{"var":"actor.id"}]}} => true
consoleLogger.js:187 JsonLogicEvaluationService:     Entity: p_erotica:iker_aguirre_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Actor: p_erotica:amaia_castillo_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService: Rule evaluation raw result: true, Final boolean: true
consoleLogger.js:187 JsonLogicEvaluationService: Resolving condition_ref 'core:entity-at-location'...
consoleLogger.js:187 JsonLogicEvaluationService: Resolving condition_ref 'core:entity-is-not-current-actor'...
consoleLogger.js:187 JsonLogicEvaluationService: Resolving condition_ref 'core:entity-has-actor-component'...
consoleLogger.js:187 JsonLogicEvaluationService: Resolving condition_ref 'core:entity-is-following-actor'...
consoleLogger.js:187 JsonLogicEvaluationService: Evaluating rule: {"and":[{"==":[{"var":"entity.components.core:position.locationId"},{"var":"location.id"}]},{"!=":[{"var":"entity.id"},{"var":"actor.id"}]},{"!!":{"va.... Context keys: entity, actor, location
consoleLogger.js:187 JsonLogicEvaluationService: Detailed evaluation of AND operation with 4 conditions:
consoleLogger.js:187 JsonLogicEvaluationService:   Condition 1/4: {"==":[{"var":"entity.components.core:position.locationId"},{"var":"location.id"}]} => true
consoleLogger.js:187 JsonLogicEvaluationService:     Entity: p_erotica:amaia_castillo_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Actor: p_erotica:amaia_castillo_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:   Condition 2/4: {"!=":[{"var":"entity.id"},{"var":"actor.id"}]} => false
consoleLogger.js:187 JsonLogicEvaluationService:     Entity: p_erotica:amaia_castillo_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Actor: p_erotica:amaia_castillo_instance, Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:     Location: p_erotica:outside_tables_coffee_shop_instance
consoleLogger.js:187 JsonLogicEvaluationService:   AND operation short-circuited at condition 2 (false result)
consoleLogger.js:187 JsonLogicEvaluationService: Rule evaluation raw result: false, Final boolean: false
consoleLogger.js:187 Formatting command for action: core:follow, template: "follow {target}", targetType: entity
consoleLogger.js:187  -> Found entity p_erotica:iker_aguirre_instance, display name: "Iker Aguirre"
consoleLogger.js:187  <- Final formatted command: "follow Iker Aguirre"
consoleLogger.js:187 ActionValidationContextBuilder: ActionValidationContextBuilder: Building context for action 'core:go', actor 'p_erotica:amaia_castillo_instance'. Only actor context is included as target filtering is handled by Scope DSL.
VED: Dispatching event 'core:component_added' via EventBus... {entity: Entity, componentTypeId: 'anatomy:joint', componentData: {…}, oldComponentData: undefined}
consoleLogger.js:187 Successfully added/updated component 'anatomy:joint' data on entity '1a266846-7f4b-4a21-b4e8-3586e6352658'.
consoleLogger.js:187 VED: Validating payload for event 'core:component_added' against schema 'core:component_added#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:component_added'.
consoleLogger.js:187 VED: Dispatching event 'core:component_added' via EventBus... {entity: Entity, componentTypeId: 'core:name', componentData: {…}, oldComponentData: {…}}
consoleLogger.js:187 Successfully added/updated component 'core:name' data on entity '1a266846-7f4b-4a21-b4e8-3586e6352658'.
consoleLogger.js:187 WorldInitializer (Pass 1): Attempting to create entity instance 'isekai:ninja_instance' from definition 'isekai:ninja' with overrides: {core:position: {…}}
consoleLogger.js:187 EntityManager.createEntityInstance: Creating entity instance 'isekai:ninja_instance' from definition 'isekai:ninja' with overrides: {core:position: {…}}
consoleLogger.js:187 [EntityFactory] Creating entity instance isekai:ninja_instance from definition isekai:ninja.
consoleLogger.js:187 Injecting STM for isekai:ninja_instance (def: isekai:ninja)
consoleLogger.js:187 Injecting Notes for isekai:ninja_instance (def: isekai:ninja)
consoleLogger.js:187 Injecting Goals for isekai:ninja_instance (def: isekai:ninja)
consoleLogger.js:151 [EntityFactory] Entity instance 'isekai:ninja_instance' (def: 'isekai:ninja') created.
consoleLogger.js:187 EntityManager.createEntityInstance: Factory created entity with ID 'isekai:ninja_instance' and definitionId 'isekai:ninja'
consoleLogger.js:187 Entity 'isekai:ninja_instance' added to repository.
consoleLogger.js:187 Tracked entity isekai:ninja_instance
consoleLogger.js:187 VED: Validating payload for event 'core:entity_created' against schema 'core:entity_created#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:entity_created'.
consoleLogger.js:187 VED: Dispatching event 'core:entity_created' via EventBus... {instanceId: 'isekai:ninja_instance', definitionId: 'isekai:ninja', wasReconstructed: false, entity: Entity}
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Received payload with entity: Entity {#data: EntityInstanceData}
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Entity type: object
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Entity constructor: Entity
consoleLogger.js:187 SpatialSync: Added isekai:ninja_instance to index at isekai:adventurers_guild_instance
consoleLogger.js:187 WorldInitializer (Pass 1): Successfully instantiated entity isekai:ninja_instance (from definition: isekai:ninja)
consoleLogger.js:187 VED: EventDefinition not found for 'worldinit:entity_instantiated'. Skipping validation as allowed by options.
consoleLogger.js:187 VED: Dispatching event 'worldinit:entity_instantiated' via EventBus... {entityId: 'isekai:ninja_instance', instanceId: undefined, definitionId: 'isekai:ninja', worldName: 'isekai:world', reason: 'Initial World Load'}
2consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:component_added'.
consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:entity_created'.
consoleLogger.js:187 No recipe slot matches socket 'left_ear' with allowed types: ear
consoleLogger.js:187 No recipe slot matches socket 'left_eye' with allowed types: eye
consoleLogger.js:187 No recipe slot matches socket 'right_ear' with allowed types: ear
consoleLogger.js:187 No recipe slot matches socket 'right_eye' with allowed types: eye
consoleLogger.js:187 No recipe slot matches socket 'scalp' with allowed types: hair
2consoleLogger.js:187 VED: Event 'core:component_added' dispatch successful.
consoleLogger.js:187 No recipe slot matches socket 'penis' with allowed types: genital
consoleLogger.js:187 No recipe slot matches socket 'pubic_hair' with allowed types: hair
consoleLogger.js:187 VED: Event 'worldinit:entity_instantiated' dispatch successful.
consoleLogger.js:187 VED: Event 'core:entity_created' dispatch successful.
consoleLogger.js:187 EntityManager.createEntityInstance: Creating entity instance 'auto-generated' from definition 'anatomy:humanoid_leg' with overrides: undefined
consoleLogger.js:187 [EntityFactory] Creating entity instance cacfb18c-5dd9-4acb-a15b-b320de7145a3 from definition anatomy:humanoid_leg.
consoleLogger.js:151 [EntityFactory] Entity instance 'cacfb18c-5dd9-4acb-a15b-b320de7145a3' (def: 'anatomy:humanoid_leg') created.
consoleLogger.js:187 EntityManager.createEntityInstance: Factory created entity with ID 'cacfb18c-5dd9-4acb-a15b-b320de7145a3' and definitionId 'anatomy:humanoid_leg'
consoleLogger.js:187 Entity 'cacfb18c-5dd9-4acb-a15b-b320de7145a3' added to repository.
consoleLogger.js:187 Tracked entity cacfb18c-5dd9-4acb-a15b-b320de7145a3
consoleLogger.js:187 VED: Validating payload for event 'core:entity_created' against schema 'core:entity_created#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:entity_created'.
consoleLogger.js:187 VED: Dispatching event 'core:entity_created' via EventBus... {instanceId: 'cacfb18c-5dd9-4acb-a15b-b320de7145a3', definitionId: 'anatomy:humanoid_leg', wasReconstructed: false, entity: Entity}
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Received payload with entity: Entity {#data: EntityInstanceData}
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Entity type: object
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Entity constructor: Entity
consoleLogger.js:187 VED: Validating payload for event 'core:component_added' against schema 'core:component_added#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:component_added'.
consoleLogger.js:187 VED: Dispatching event 'core:component_added' via EventBus... {entity: Entity, componentTypeId: 'anatomy:joint', componentData: {…}, oldComponentData: undefined}
consoleLogger.js:187 Successfully added/updated component 'anatomy:joint' data on entity 'cacfb18c-5dd9-4acb-a15b-b320de7145a3'.
consoleLogger.js:187 VED: Validating payload for event 'core:component_added' against schema 'core:component_added#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:component_added'.
consoleLogger.js:187 VED: Dispatching event 'core:component_added' via EventBus... {entity: Entity, componentTypeId: 'core:name', componentData: {…}, oldComponentData: {…}}
consoleLogger.js:187 Successfully added/updated component 'core:name' data on entity 'cacfb18c-5dd9-4acb-a15b-b320de7145a3'.
consoleLogger.js:187 VED: Event 'core:entity_created' dispatch successful.
consoleLogger.js:187 Dispatched 'worldinit:entity_instantiated' for entity isekai:ninja_instance.
2consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:component_added'.
consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:entity_created'.
consoleLogger.js:187 No recipe slot matches socket 'knee' with allowed types: lower_leg
consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:entity_created'.
2consoleLogger.js:187 VED: Event 'core:component_added' dispatch successful.
consoleLogger.js:187 VED: Event 'core:entity_created' dispatch successful.
consoleLogger.js:187 EntityManager.createEntityInstance: Creating entity instance 'auto-generated' from definition 'anatomy:humanoid_arm' with overrides: undefined
consoleLogger.js:187 [EntityFactory] Creating entity instance a714144c-c88a-48c4-a745-ca57821d5621 from definition anatomy:humanoid_arm.
consoleLogger.js:151 [EntityFactory] Entity instance 'a714144c-c88a-48c4-a745-ca57821d5621' (def: 'anatomy:humanoid_arm') created.
consoleLogger.js:187 EntityManager.createEntityInstance: Factory created entity with ID 'a714144c-c88a-48c4-a745-ca57821d5621' and definitionId 'anatomy:humanoid_arm'
consoleLogger.js:187 Entity 'a714144c-c88a-48c4-a745-ca57821d5621' added to repository.
consoleLogger.js:187 Tracked entity a714144c-c88a-48c4-a745-ca57821d5621
consoleLogger.js:187 VED: Validating payload for event 'core:entity_created' against schema 'core:entity_created#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:entity_created'.
consoleLogger.js:187 VED: Dispatching event 'core:entity_created' via EventBus... {instanceId: 'a714144c-c88a-48c4-a745-ca57821d5621', definitionId: 'anatomy:humanoid_arm', wasReconstructed: false, entity: Entity}
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Received payload with entity: Entity {#data: EntityInstanceData}
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Entity type: object
consoleLogger.js:187 SpatialIndexSynchronizer.onEntityAdded: Entity constructor: Entity
consoleLogger.js:187 VED: Validating payload for event 'core:component_added' against schema 'core:component_added#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:component_added'.
consoleLogger.js:187 VED: Dispatching event 'core:component_added' via EventBus... {entity: Entity, componentTypeId: 'anatomy:joint', componentData: {…}, oldComponentData: undefined}
consoleLogger.js:187 Successfully added/updated component 'anatomy:joint' data on entity 'a714144c-c88a-48c4-a745-ca57821d5621'.
consoleLogger.js:187 VED: Validating payload for event 'core:component_added' against schema 'core:component_added#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:component_added'.
consoleLogger.js:187 VED: Dispatching event 'core:component_added' via EventBus... {entity: Entity, componentTypeId: 'core:name', componentData: {…}, oldComponentData: {…}}
consoleLogger.js:187 Successfully added/updated component 'core:name' data on entity 'a714144c-c88a-48c4-a745-ca57821d5621'.
2consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:component_added'.
consoleLogger.js:187 WorldInitializer (Pass 1): Completed. Instantiated 4 entities, 0 failures out of 4 total instances for world 'isekai:world'.
consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:entity_created'.
consoleLogger.js:187 No recipe slot matches socket 'elbow' with allowed types: forearm
consoleLogger.js:187 WorldInitializer: World entity initialization complete for world: isekai:world. Instantiated: 4, Failed: 0, Total Processed: 4. Spatial index management is handled by SpatialIndexSynchronizer.
2consoleLogger.js:187 VED: Event 'core:component_added' dispatch successful.
consoleLogger.js:187 No recipe slot matches socket 'testicles' with allowed types: genital
consoleLogger.js:187 Building spatial index from existing entities...
consoleLogger.js:151 SpatialIndexManager: Index cleared.
consoleLogger.js:187 Spatial index built successfully.
consoleLogger.js:187 InitializationService: Initial world entities instantiated and spatial index built.
consoleLogger.js:187 VED: Event 'core:entity_created' dispatch successful.
consoleLogger.js:187 GraphIntegrityValidator: Validating graph with 6 entities
consoleLogger.js:187 VED: Delegating subscription for event "core:action_decided" to EventBus.
consoleLogger.js:187 SafeEventDispatcher: Successfully subscribed to event 'core:action_decided'.
consoleLogger.js:187 VED: Delegating subscription for event "core:action_decided" to EventBus.
consoleLogger.js:187 SafeEventDispatcher: Successfully subscribed to event 'core:action_decided'.
consoleLogger.js:187 Registered AI persistence listeners.
consoleLogger.js:187 Ensuring DomUiFacade is instantiated so UI components are ready...
consoleLogger.js:187 Building ActionIndex with loaded action definitions...
consoleLogger.js:187 Building action index from 10 definitions...
consoleLogger.js:187 Action index built. 3 component-to-action maps created.
consoleLogger.js:187 ActionIndex built with 10 action definitions.
consoleLogger.js:187 InitializationService: Initialization sequence for world 'isekai:world' completed successfully (GameLoop resolution removed).
consoleLogger.js:187 GraphIntegrityValidator: Validation passed without issues
consoleLogger.js:187 GameEngine._executeInitializationSequence: Initialization sequence completed for "isekai:world". Success: true
2consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:component_added'.
consoleLogger.js:151 BodyBlueprintFactory: Successfully created anatomy graph with 6 entities
consoleLogger.js:187 SafeEventDispatcher: Successfully dispatched event 'core:entity_created'.
consoleLogger.js:187 VED: Validating payload for event 'core:component_added' against schema 'core:component_added#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:component_added'.
consoleLogger.js:187 VED: Dispatching event 'core:component_added' via EventBus... {entity: Entity, componentTypeId: 'anatomy:body', componentData: {…}, oldComponentData: {…}}
consoleLogger.js:187 Successfully added/updated component 'anatomy:body' data on entity 'isekai:hero_instance'.
6consoleLogger.js:187 EntityManager.getEntitiesWithComponent: Found 5 entities with component 'anatomy:joint'.
consoleLogger.js:175 AnatomyGenerationService: Failed to generate descriptions for entity 'isekai:hero_instance' {error: TypeError: Cannot read properties of undefined (reading 'anatomy:body')
    at BodyDescriptionCompo…}error: TypeError: Cannot read properties of undefined (reading 'anatomy:body')
    at BodyDescriptionComposer.composeDescription (http://127.0.0.1:8080/bundle.js:43048:48)
    at AnatomyDescriptionService.generateBodyDescription (http://127.0.0.1:8080/bundle.js:43421:56)
    at AnatomyDescriptionService.generateAllDescriptions (http://127.0.0.1:8080/bundle.js:43397:12)
    at AnatomyGenerationService.generateAnatomyIfNeeded (http://127.0.0.1:8080/bundle.js:42573:45)
    at async #handleEntityCreated (http://127.0.0.1:8080/bundle.js:42698:30)
    at async http://127.0.0.1:8080/bundle.js:24239:15
    at async Promise.all (index 2)
    at async EventBus.dispatch (http://127.0.0.1:8080/bundle.js:24236:9)
    at async #emitEvent (http://127.0.0.1:8080/bundle.js:25213:9)
    at async SafeEventDispatcher.dispatch (http://127.0.0.1:8080/bundle.js:25413:30)[[Prototype]]: Object
error @ consoleLogger.js:175
generateAnatomyIfNeeded @ anatomyGenerationService.js:164
await in generateAnatomyIfNeeded
#handleEntityCreated @ anatomyInitializationService.js:101
(anonymous) @ eventBus.js:136
dispatch @ eventBus.js:133
#emitEvent @ validatedEventDispatcher.js:192
dispatch @ validatedEventDispatcher.js:222
dispatchResult.#executeSafely.payload.payload @ safeEventDispatcher.js:124
#executeSafely @ safeEventDispatcher.js:88
dispatch @ safeEventDispatcher.js:122
#dispatchEntityCreated @ entityLifecycleManager.js:177
createEntityInstance @ entityLifecycleManager.js:214
createEntityInstance @ entityManager.js:361
createEntityInstance @ entityManagerAdapter.js:38
#createInstance @ worldInitializer.js:235
#instantiateInstance @ worldInitializer.js:330
#processInstance @ worldInitializer.js:389
#instantiateEntitiesFromWorld @ worldInitializer.js:431
await in #instantiateEntitiesFromWorld
initializeWorldEntities @ worldInitializer.js:477
#initWorld @ initializationService.js:377
runInitializationSequence @ initializationService.js:286
await in runInitializationSequence
#executeInitializationSequence @ gameEngine.js:197
await in #executeInitializationSequence
#initializeNewGame @ gameEngine.js:269
await in #initializeNewGame
startNewGame @ gameEngine.js:313
startGameStage @ engineStages.js:87
beginGame @ main.js:217
(anonymous) @ game.html:326
Promise.then
(anonymous) @ game.html:323Understand this error
consoleLogger.js:151 AnatomyGenerationService: Successfully generated anatomy for entity 'isekai:hero_instance' with 6 parts
consoleLogger.js:187 GameSessionManager.finalizeNewGameSuccess: Initialization successful for world "isekai:world". Finalizing new game setup.
consoleLogger.js:187 PlaytimeTracker: Session started at 1751371015608
consoleLogger.js:187 GameSessionManager._finalizeGameStart: Dispatching UI event for game ready.
consoleLogger.js:187 VED: Validating payload for event 'core:ui_ready' against schema 'core:ui_ready#payload'...
consoleLogger.js:187 VED: Payload validation SUCCEEDED for event 'core:ui_ready'.
consoleLogger.js:187 VED: Dispatching event 'core:ui_ready' via EventBus... {activeWorld: 'isekai:world', message: 'Enter command...'}
consoleLogger.js:187 EngineUIManager: Received core:ui_ready {activeWorld: 'isekai:world', message: 'Enter command...'}
consoleLogger.js:187 [TitleRenderer] Title set to: "isekai:world"
consoleLogger.js:187 [InputStateController] Input enabled.
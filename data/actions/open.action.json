{
  "$schema": "../schemas/action-definition.schema.json",
  "id": "action:open",
  "commandVerb": "open",
  "name": "Open",
  "target_domain": "environment",
  "prerequisites": [
    {
      "and": [
        {
          "!!": {
            "var": "target.components.component:openable"
          }
        },
        {
          "!": {
            "var": "target.components.component:open"
          }
        },
        {
          "!": {
            "var": "target.components.component:locked"
          }
        }
      ]
    }
  ],
  "template": "open {target}",
  "dispatch_event": {
    "eventName": "event:open_attempted",
    "payload": {
      "actorId": "actor.id",
      "targetEntityId": "target.id"
    }
  }
}
{
    "$schema": "schema://living-narrative-engine/expression.schema.json",
    "id": "emotions-joy-play:relief_laughter_discharge",
    "description": "Relief that vents socially—tension breaks into a small, involuntary laugh. The body cashes out the danger-signal into warmth and motion, as if the nervous system is finally allowed to unclench.",
    "category": "joy",
    "actor_description": "The tightness lets go all at once and a laugh slips out before I can decide if it’s appropriate. My chest feels lighter, like I’ve been holding my breath for too long and just remembered how to exhale. There’s still energy in me, but it’s no longer aimed at bracing—it spills into a grin and a quick shake of the head, amazed to be okay.",
    "description_text": "{actor} lets out a quick, disbelieving laugh—shoulders loosening as their face opens into a grin. The sound lands like a release valve: tension visibly draining even as their eyes stay bright and alert.",
    "priority": 74,
    "prerequisites": [
        {
            "logic": {
                "and": [
                    {
                        ">=": [
                            {
                                "var": "emotions.release"
                            },
                            0.55
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "emotions.relief"
                            },
                            0.4
                        ]
                    },
                    {
                        "or": [
                            {
                                ">=": [
                                    {
                                        "var": "emotions.amusement"
                                    },
                                    0.35
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "var": "emotions.joy"
                                    },
                                    0.35
                                ]
                            }
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.valence"
                            },
                            5
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.engagement"
                            },
                            10
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.arousal"
                            },
                            5
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "moodAxes.arousal"
                            },
                            45
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "moodAxes.threat"
                            },
                            30
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.grief"
                            },
                            0.35
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.despair"
                            },
                            0.35
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.panic"
                            },
                            0.12
                        ]
                    },
                    {
                        "or": [
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "previousMoodAxes.threat"
                                            },
                                            {
                                                "var": "moodAxes.threat"
                                            }
                                        ]
                                    },
                                    15
                                ]
                            },
                            {
                                "and": [
                                    {
                                        "<": [
                                            {
                                                "var": "previousEmotions.release"
                                            },
                                            0.55
                                        ]
                                    },
                                    {
                                        ">=": [
                                            {
                                                "var": "emotions.release"
                                            },
                                            0.63
                                        ]
                                    }
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "emotions.release"
                                            },
                                            {
                                                "var": "previousEmotions.release"
                                            }
                                        ]
                                    },
                                    0.12
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "emotions.relief"
                                            },
                                            {
                                                "var": "previousEmotions.relief"
                                            }
                                        ]
                                    },
                                    0.1
                                ]
                            }
                        ]
                    }
                ]
            },
            "failure_message": "Requires a real discharge: release is strong (unbracing) with relief present, plus a playful/joy signal and positive valence while engagement stays online. Treats it as an event by needing a sharp threat drop or a release crossing/spike (relief spike allowed as secondary). Blocks grief/despair and panic so it doesn’t mislabel darker or hijacked states."
        }
    ],
    "alternate_descriptions": {
        "auditory": "A short burst of laughter slips out—half a chuckle, half an exhale—followed by a breath that finally sounds unforced.",
        "tactile": "The air around them seems to loosen; you can almost feel the tension leaving their shoulders in a quick ripple, like a knot giving up."
    },
    "diagnosticStatus": "uncommon",
    "triggerRate": 0.0007
}
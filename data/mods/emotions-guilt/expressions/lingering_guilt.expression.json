{
    "$schema": "schema://living-narrative-engine/expression.schema.json",
    "id": "emotions-guilt:lingering_guilt",
    "description": "Moderate, non-spiking guilt-an apologetic, sheepish self-consciousness after a minor mistake",
    "priority": 55,
    "prerequisites": [
        {
            "logic": {
                "and": [
                    {
                        ">=": [
                            {
                                "var": "emotions.regret"
                            },
                            0.18
                        ]
                    },
                    {
                        "or": [
                            {
                                ">=": [
                                    {
                                        "var": "previousEmotions.guilt"
                                    },
                                    0.28
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "var": "previousEmotions.remorse"
                                    },
                                    0.28
                                ]
                            }
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "moodAxes.self_evaluation"
                            },
                            -12
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.engagement"
                            },
                            15
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "moodAxes.threat"
                            },
                            35
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.arousal"
                            },
                            -25
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "moodAxes.arousal"
                            },
                            45
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.affiliation"
                            },
                            -5
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.shame"
                            },
                            0.5
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.humiliation"
                            },
                            0.2
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.terror"
                            },
                            0.2
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.fear"
                            },
                            0.35
                        ]
                    },
                    {
                        "or": [
                            {
                                "and": [
                                    {
                                        ">=": [
                                            {
                                                "var": "emotions.guilt"
                                            },
                                            0.4
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "var": "emotions.guilt"
                                            },
                                            0.7
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "var": "emotions.remorse"
                                            },
                                            0.75
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "-": [
                                                    {
                                                        "var": "emotions.guilt"
                                                    },
                                                    {
                                                        "var": "previousEmotions.guilt"
                                                    }
                                                ]
                                            },
                                            0.06
                                        ]
                                    },
                                    {
                                        ">=": [
                                            {
                                                "-": [
                                                    {
                                                        "var": "emotions.guilt"
                                                    },
                                                    {
                                                        "var": "previousEmotions.guilt"
                                                    }
                                                ]
                                            },
                                            -0.06
                                        ]
                                    }
                                ]
                            },
                            {
                                "and": [
                                    {
                                        ">=": [
                                            {
                                                "var": "emotions.remorse"
                                            },
                                            0.4
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "var": "emotions.remorse"
                                            },
                                            0.7
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "var": "emotions.guilt"
                                            },
                                            0.75
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "-": [
                                                    {
                                                        "var": "emotions.remorse"
                                                    },
                                                    {
                                                        "var": "previousEmotions.remorse"
                                                    }
                                                ]
                                            },
                                            0.06
                                        ]
                                    },
                                    {
                                        ">=": [
                                            {
                                                "-": [
                                                    {
                                                        "var": "emotions.remorse"
                                                    },
                                                    {
                                                        "var": "previousEmotions.remorse"
                                                    }
                                                ]
                                            },
                                            -0.06
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            "failure_message": "Requires emotion conditions (regret, shame, humiliation, terror, fear, guilt, remorse); mood axes (self_evaluation, engagement, threat, arousal, affiliation); state change detection from previous values."
        }
    ],
    "actor_description": "It's still there-the same scene, the same fork in the road, the same version of me that chose wrong or froze. It doesn't flare up; it just sits in me, steady as a stone, and my mind keeps worrying it like a sore tooth. I catch myself editing imaginary conversations, rehearsing apologies I'll never deliver. My stomach stays tight; my throat feels crowded, like my body is trying to make me smaller in advance of judgment.",
    "description_text": "{actor} moves with a faint hesitation, as if checking their own right to occupy space. Their gaze slips away at the wrong moments; shoulders hold a quiet tension. Hands hover, fidget, then still-an awkwardness that reads less like fear and more like self-reproach.",
    "alternate_descriptions": {
        "auditory": "Words start and stop. There are pauses that don't feel thoughtful-more like someone swallowing what they meant to say. A small sigh repeats, the kind that sounds like an apology with no audience.",
        "tactile": "A body holds itself guarded-muscles tight in the shoulders, a careful stillness, like someone bracing to be blamed even if nobody's speaking."
    },
    "category": "shame",
    "diagnosticStatus": "uncommon",
    "triggerRate": 0.0009
}
{
    "$schema": "schema://living-narrative-engine/expression.schema.json",
    "id": "emotions-alarm:alarm_surge",
    "description": "Alarm surge: a sharp mobilization into fight/flight readiness—fast, keyed-up, and action-oriented—without tipping into panic, freezing, or dissociative shutdown.",
    "actor_description": "Something in me snaps to attention like a switch got thrown. My breath goes high, pulse loud, and my body feels pre-loaded to move—hands ready, weight already shifting. Thoughts narrow into simple options: go, block, get out—clean and fast, not scrambled.",
    "description_text": "{actor} goes instantly alert—posture tightening, gaze cutting sharp, breath quickening as if they’re about to move. Their stance shifts into readiness, keyed-up but still coordinated.",
    "priority": 84,
    "prerequisites": [
        {
            "logic": {
                "and": [
                    {
                        ">=": [
                            {
                                "var": "emotions.alarm"
                            },
                            0.6
                        ]
                    },
                    {
                        "or": [
                            {
                                ">=": [
                                    {
                                        "var": "emotions.fear"
                                    },
                                    0.45
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "var": "emotions.hypervigilance"
                                    },
                                    0.4
                                ]
                            }
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.apprehension"
                            },
                            0.50
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "moodAxes.inhibitory_control"
                            },
                            30
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "affectTraits.self_control"
                            },
                            80
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.threat"
                            },
                            35
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.arousal"
                            },
                            25
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.agency_control"
                            },
                            -10
                        ]
                    },
                    {
                        "or": [
                            {
                                ">=": [
                                    {
                                        "var": "moodAxes.inhibitory_control"
                                    },
                                    -10
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "var": "affectTraits.self_control"
                                    },
                                    55
                                ]
                            }
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.panic"
                            },
                            0.35
                        ]
                    },
                    {
                        "<": [
                            {
                                "var": "emotions.freeze"
                            },
                            0.25
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.dissociation"
                            },
                            0.35
                        ]
                    },
                    {
                        "or": [
                            {
                                "<=": [
                                    {
                                        "var": "emotions.executive_focus"
                                    },
                                    0.35
                                ]
                            },
                            {
                                "and": [
                                    {
                                        ">=": [
                                            {
                                                "var": "previousEmotions.executive_focus"
                                            },
                                            0.6
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "var": "emotions.executive_focus"
                                            },
                                            0.42
                                        ]
                                    }
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "previousEmotions.executive_focus"
                                            },
                                            {
                                                "var": "emotions.executive_focus"
                                            }
                                        ]
                                    },
                                    0.18
                                ]
                            }
                        ]
                    },
                    {
                        "or": [
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "emotions.alarm"
                                            },
                                            {
                                                "var": "previousEmotions.alarm"
                                            }
                                        ]
                                    },
                                    0.12
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "moodAxes.threat"
                                            },
                                            {
                                                "var": "previousMoodAxes.threat"
                                            }
                                        ]
                                    },
                                    12
                                ]
                            },
                            {
                                "and": [
                                    {
                                        "<": [
                                            {
                                                "var": "previousMoodAxes.threat"
                                            },
                                            35
                                        ]
                                    },
                                    {
                                        ">=": [
                                            {
                                                "var": "moodAxes.threat"
                                            },
                                            35
                                        ]
                                    }
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "emotions.fear"
                                            },
                                            {
                                                "var": "previousEmotions.fear"
                                            }
                                        ]
                                    },
                                    0.1
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "emotions.hypervigilance"
                                            },
                                            {
                                                "var": "previousEmotions.hypervigilance"
                                            }
                                        ]
                                    },
                                    0.1
                                ]
                            }
                        ]
                    }
                ]
            },
            "failure_message": "Alarm surge is acute mobilization; strong braced apprehension would read as contained caution instead. Caps apprehension and high clamp signatures so alarm doesn’t misfire in ‘brakes-on’ states, while keeping the core arousal/threat + delta signature intact."
        }
    ],
    "alternate_descriptions": {
        "auditory": "I hear a sharp intake of breath and a clipped, controlled exhale—like someone trying to stay quiet while getting ready to move.",
        "tactile": "The air feels tight and charged; there's a restless micro-tremor in their stillness, like a coiled spring held in place."
    },
    "category": "threat",
    "diagnosticStatus": "unknown",
    "triggerRate": 0.0018
}
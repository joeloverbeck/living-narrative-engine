{
    "$schema": "schema://living-narrative-engine/expression.schema.json",
    "id": "emotions-confusion:insight_click",
    "description": "A sudden internal re-ordering: confusion loosens while attention stays locked in, replaced by a clean sense of grasp. Thoughts stop skating and start lining up; the body follows with a small release, like control returning to the hands.",
    "category": "attention",
    "actor_description": "Oh—there it is. The static in my head thins out and the pieces slide into place like they were waiting for the right angle. My chest eases and my breath gets smoother, like I’ve been holding it without noticing. I still feel keyed-in, but now it’s steady: I can actually steer the thought instead of being dragged by it.",
    "description_text": "{actor} stills with focused attention, then visibly relaxes—eyes sharpening, posture settling as if a handle just appeared on the problem. Their expression shifts from strained searching to quiet certainty, like they can finally move forward.",
    "priority": 72,
    "prerequisites": [
        {
            "logic": {
                "and": [
                    {
                        ">=": [
                            {
                                "var": "emotions.confusion"
                            },
                            0.25
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.confusion"
                            },
                            0.6
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "emotions.focused_absorption"
                            },
                            0.5
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.engagement"
                            },
                            25
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.agency_control"
                            },
                            10
                        ]
                    },
                    {
                        "or": [
                            {
                                ">=": [
                                    {
                                        "var": "emotions.interest"
                                    },
                                    0.3
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "var": "emotions.curiosity"
                                    },
                                    0.3
                                ]
                            }
                        ]
                    },
                    {
                        "or": [
                            {
                                ">=": [
                                    {
                                        "var": "emotions.small_victory"
                                    },
                                    0.3
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "var": "emotions.executive_focus"
                                    },
                                    0.45
                                ]
                            }
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.arousal"
                            },
                            -10
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "moodAxes.arousal"
                            },
                            65
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.valence"
                            },
                            -15
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "moodAxes.threat"
                            },
                            55
                        ]
                    },
                    {
                        "or": [
                            {
                                "<": [
                                    {
                                        "var": "moodAxes.threat"
                                    },
                                    10
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "var": "emotions.executive_focus"
                                    },
                                    0.35
                                ]
                            }
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.transfixed"
                            },
                            0.5
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.entranced"
                            },
                            0.4
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.quiet_absorption"
                            },
                            0.65
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.boredom"
                            },
                            0.35
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.apathy"
                            },
                            0.35
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.panic"
                            },
                            0.15
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.triumph"
                            },
                            0.35
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.euphoria"
                            },
                            0.35
                        ]
                    }
                ]
            },
            "failure_message": "Requires mid-range confusion with locked-in attention. The 'click' is evidenced by either a small_victory pop OR executive_focus (a usable grip returns). If threat is meaningfully present, executive_focus must be online so it reads as steerable control, not trance. Caps panic and trance-like absorption so it stays a clean cognitive re-ordering."
        },
        {
            "logic": {
                "and": [
                    {
                        "or": [
                            {
                                "and": [
                                    {
                                        ">=": [
                                            {
                                                "var": "previousEmotions.confusion"
                                            },
                                            0.5
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "var": "emotions.confusion"
                                            },
                                            0.45
                                        ]
                                    }
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "previousEmotions.confusion"
                                            },
                                            {
                                                "var": "emotions.confusion"
                                            }
                                        ]
                                    },
                                    0.12
                                ]
                            }
                        ]
                    },
                    {
                        "or": [
                            {
                                "and": [
                                    {
                                        "<": [
                                            {
                                                "var": "previousEmotions.small_victory"
                                            },
                                            0.3
                                        ]
                                    },
                                    {
                                        ">=": [
                                            {
                                                "var": "emotions.small_victory"
                                            },
                                            0.3
                                        ]
                                    }
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "emotions.small_victory"
                                            },
                                            {
                                                "var": "previousEmotions.small_victory"
                                            }
                                        ]
                                    },
                                    0.07
                                ]
                            },
                            {
                                "and": [
                                    {
                                        "<": [
                                            {
                                                "var": "previousEmotions.executive_focus"
                                            },
                                            0.45
                                        ]
                                    },
                                    {
                                        ">=": [
                                            {
                                                "var": "emotions.executive_focus"
                                            },
                                            0.45
                                        ]
                                    }
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "emotions.executive_focus"
                                            },
                                            {
                                                "var": "previousEmotions.executive_focus"
                                            }
                                        ]
                                    },
                                    0.08
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "emotions.focused_absorption"
                                            },
                                            {
                                                "var": "previousEmotions.focused_absorption"
                                            }
                                        ]
                                    },
                                    0.08
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "moodAxes.agency_control"
                                            },
                                            {
                                                "var": "previousMoodAxes.agency_control"
                                            }
                                        ]
                                    },
                                    12
                                ]
                            }
                        ]
                    }
                ]
            }
        }
    ],
    "alternate_descriptions": {
        "auditory": "I hear the searching stop—speech smooths out, fewer false starts, and a small, satisfied exhale slips through like the tension finally released.",
        "tactile": "The tightness in the face and shoulders lets go. Hands get steadier, movements more deliberate, like the body found the right grip.",
        "limited": "Something shifts in {actor}'s focus—less scattered, more certain—like a solution just snapped into place."
    },
    "diagnosticStatus": "impossible"
}
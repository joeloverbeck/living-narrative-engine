{
  "$schema": "http://example.com/schemas/event.schema.json",
  "id": "clothing:coverage_validated",
  "description": "Fired when clothing coverage validation is performed",
  "payloadSchema": {
    "type": "object",
    "properties": {
      "entityId": {
        "type": "string",
        "description": "The entity for which coverage was validated"
      },
      "clothingItemId": {
        "type": "string",
        "description": "The clothing item being validated"
      },
      "validationResult": {
        "type": "string",
        "enum": ["valid", "invalid", "partial"],
        "description": "Result of the coverage validation"
      },
      "requiredCoverage": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Required anatomy parts for this clothing item"
      },
      "availableParts": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Anatomy parts available on the entity"
      },
      "missingParts": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Required parts that are missing on the entity"
      },
      "excludedParts": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Parts that prevent this item from being equipped"
      },
      "optionalCoverage": {
        "type": "array",
        "items": { "type": "string" },
        "description": "Optional parts that would be covered if present"
      },
      "sizeCompatibility": {
        "type": "object",
        "properties": {
          "entitySize": { "type": "string" },
          "itemSize": { "type": "string" },
          "compatible": { "type": "boolean" }
        },
        "additionalProperties": false
      },
      "validationDetails": {
        "type": "object",
        "properties": {
          "errors": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Validation error messages"
          },
          "warnings": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Validation warning messages"
          }
        },
        "additionalProperties": false
      },
      "timestamp": {
        "type": "number",
        "description": "Unix timestamp when validation was performed"
      }
    },
    "required": [
      "entityId",
      "clothingItemId",
      "validationResult",
      "requiredCoverage",
      "availableParts",
      "timestamp"
    ],
    "additionalProperties": false
  }
}

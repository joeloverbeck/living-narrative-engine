{
    "$schema": "schema://living-narrative-engine/expression.schema.json",
    "id": "emotions-anger:rage_surge",
    "description": "Acute outburst moment: rage spikes sharply and crosses the restraint threshold",
    "priority": 90,
    "prerequisites": [
        {
            "logic": {
                "and": [
                    {
                        ">=": [
                            {
                                "var": "emotions.rage"
                            },
                            0.6
                        ]
                    },
                    {
                        "<": [
                            {
                                "var": "previousEmotions.rage"
                            },
                            0.6
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "emotions.hot_anger"
                            },
                            0.5
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.arousal"
                            },
                            22
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.smoldering_anger"
                            },
                            0.45
                        ]
                    },
                    {
                        ">=": [
                            {
                                "var": "moodAxes.agency_control"
                            },
                            0
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.sympathy"
                            },
                            0.32
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.guilt"
                            },
                            0.3
                        ]
                    },
                    {
                        "<=": [
                            {
                                "var": "emotions.remorse"
                            },
                            0.25
                        ]
                    },
                    {
                        "or": [
                            {
                                "<=": [
                                    {
                                        "var": "moodAxes.affiliation"
                                    },
                                    20
                                ]
                            },
                            {
                                ">=": [
                                    {
                                        "-": [
                                            {
                                                "var": "previousMoodAxes.affiliation"
                                            },
                                            {
                                                "var": "moodAxes.affiliation"
                                            }
                                        ]
                                    },
                                    15
                                ]
                            }
                        ]
                    },
                    {
                        "<": [
                            {
                                "var": "emotions.hot_anger"
                            },
                            0.75
                        ]
                    },
                    {
                        "or": [
                            {
                                "<=": [
                                    {
                                        "var": "moodAxes.inhibitory_control"
                                    },
                                    -10
                                ]
                            },
                            {
                                "and": [
                                    {
                                        "<=": [
                                            {
                                                "var": "moodAxes.inhibitory_control"
                                            },
                                            10
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "var": "affectTraits.self_control"
                                            },
                                            35
                                        ]
                                    }
                                ]
                            },
                            {
                                "<=": [
                                    {
                                        "-": [
                                            {
                                                "var": "moodAxes.inhibitory_control"
                                            },
                                            {
                                                "var": "previousMoodAxes.inhibitory_control"
                                            }
                                        ]
                                    },
                                    -40
                                ]
                            },
                            {
                                "and": [
                                    {
                                        ">": [
                                            {
                                                "var": "previousMoodAxes.inhibitory_control"
                                            },
                                            20
                                        ]
                                    },
                                    {
                                        "<=": [
                                            {
                                                "var": "moodAxes.inhibitory_control"
                                            },
                                            0
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        ">=": [
                            {
                                "-": [
                                    {
                                        "var": "emotions.rage"
                                    },
                                    {
                                        "var": "previousEmotions.rage"
                                    }
                                ]
                            },
                            0.2
                        ]
                    }
                ]
            },
            "failure_message": "Acute outburst crossing only: rage must cross threshold with hot_anger present and arousal clearly elevated. Explicitly caps smoldering_anger so cold controlled hostility canâ€™t masquerade as a surge. Adds a disinhibition requirement (low or sharply dropping inhibitory_control, with low trait self_control making it easier). Keeps harm-aware tones capped and still requires a large rage delta."
        }
    ],
    "actor_description": "It comes up fast-heat in my face, pressure behind my eyes, my jaw clamping so hard my teeth ache. My hands curl without asking. The world simplifies into a single, furious shape: this is wrong, and I need it to stop. I can feel how narrow I'm getting-how every other thought is being shoved out to make room for the urge to hit back.",
    "description_text": "{actor} hardens in place-jaw locked, stare sharpened, shoulders squaring as if bracing for impact. Their hands ball and unball, breath coming in clipped bursts, the whole body tightening into a controlled threat.",
    "alternate_descriptions": {
        "auditory": "I hear teeth grind and a breath pulled in like a hiss. If they speak, it's low and tight-words forced through a clenched throat."
    },
    "category": "anger",
    "diagnosticStatus": "unknown"
}
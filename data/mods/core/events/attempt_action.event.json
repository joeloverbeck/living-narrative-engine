{
  "$schema": "http://example.com/schemas/event-definition.schema.json",
  "id": "core:attempt_action",
  "description": "Defines the structure for the 'core:attempt_action' event, dispatched when an actor tries to perform an action.",
  "payloadSchema": {
    "description": "Defines the structure of the data payload for the 'core:attempt_action' event.",
    "type": "object",
    "required": ["eventName", "actorId", "actionId", "originalInput"],
    "properties": {
      "eventName": {
        "description": "Confirms the type of event.",
        "const": "core:attempt_action"
      },
      "actorId": {
        "$ref": "http://example.com/schemas/common.schema.json#/definitions/namespacedId",
        "description": "The ID of the entity attempting the action."
      },
      "actionId": {
        "$ref": "http://example.com/schemas/common.schema.json#/definitions/namespacedId",
        "description": "The ID of the action being attempted."
      },
      "targetId": {
        "$ref": "http://example.com/schemas/common.schema.json#/definitions/nullableNamespacedId",
        "description": "The ID of the target entity for the action, if applicable."
      },
      "direction": {
        "type": ["string", "null"],
        "description": "The direction associated with the action, if any (e.g., 'north', 'west')."
      },
      "originalInput": {
        "type": "string",
        "description": "The exact command or input string entered by the player or generated by AI."
      }
    },
    "additionalProperties": false
  }
}

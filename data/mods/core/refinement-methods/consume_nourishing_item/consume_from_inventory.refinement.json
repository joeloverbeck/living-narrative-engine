{
  "$schema": "schema://living-narrative-engine/refinement-method.schema.json",
  "id": "core:consume_nourishing_item.consume_from_inventory",
  "taskId": "core:consume_nourishing_item",
  "description": "Drink or eat the nourishing item the actor already carries.",
  "applicability": {
    "description": "The known target is already in the actor's inventory.",
    "condition": {
      "and": [
        { "!!": { "var": "actor.components.items:inventory" } },
        {
          "in": [
            { "var": "task.params.target" },
            { "var": "actor.components.items:inventory.items" }
          ]
        }
      ]
    }
  },
  "steps": [
    {
      "stepType": "primitive_action",
      "description": "Consume the carried item immediately.",
      "actionId": "items:drink_entirely",
      "targetBindings": {
        "primary": "task.params.target"
      }
    }
  ],
  "fallbackBehavior": "replan"
}

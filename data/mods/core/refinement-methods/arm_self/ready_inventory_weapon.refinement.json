{
  "$schema": "schema://living-narrative-engine/refinement-method.schema.json",
  "id": "core:arm_self.ready_inventory_weapon",
  "taskId": "core:arm_self",
  "description": "Use a weapon that is already stored in the actor's inventory.",
  "applicability": {
    "description": "Target item is already carried by the actor.",
    "condition": {
      "and": [
        { "!!": { "var": "actor.components.items:inventory" } },
        {
          "in": [
            { "var": "task.params.target" },
            { "var": "actor.components.items:inventory.items" }
          ]
        }
      ]
    }
  },
  "steps": [
    {
      "stepType": "primitive_action",
      "description": "Inspect and ready the carried weapon.",
      "actionId": "items:examine_owned_item",
      "targetBindings": {
        "target": "task.params.target"
      }
    }
  ],
  "fallbackBehavior": "replan"
}

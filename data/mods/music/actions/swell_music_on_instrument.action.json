{
  "$schema": "schema://living-narrative-engine/action.schema.json",
  "id": "music:swell_music_on_instrument",
  "name": "Swell Music on Instrument",
  "description": "Drive an accent that rises dramatically in intensity on the instrument you are currently playing. This technique creates powerful dramatic moments and works with moods that support expressive rises.",
  "targets": {
    "primary": {
      "scope": "music:instrument_actor_is_playing",
      "placeholder": "instrument",
      "description": "The instrument you are currently playing"
    }
  },
  "required_components": {
    "actor": [
      "music:is_musician",
      "music:playing_music",
      "music:performance_mood"
    ],
    "primary": ["items:item", "music:is_instrument"]
  },
  "forbidden_components": {
    "actor": ["personal-space-states:closeness", "physical-control-states:being_restrained"]
  },
  "prerequisites": [
    {
      "logic": {
        "in": [
          {
            "var": "actor.components.music:performance_mood.mood"
          },
          ["triumphant", "tense", "mournful", "tender", "meditative"]
        ]
      },
      "failure_message": "Swelling requires a mood that supports dramatic rises. Try a mood that's more expressive or emotionally dynamic."
    }
  ],
  "template": "drive an accent on {instrument}",
  "visual": {
    "backgroundColor": "#1a2332",
    "textColor": "#d1d5db",
    "hoverBackgroundColor": "#2d3748",
    "hoverTextColor": "#f3f4f6"
  }
}

{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/schemas/container.schema.json",
  "title": "Container Component Schema",
  "description": "Defines the state for an entity that can hold other item entities.",
  "type": "object",
  "properties": {
    "capacity": {
      "type": "integer",
      "description": "The maximum number of items (or total weight/volume, depending on game rules) the container can hold. Use -1 for infinite capacity.",
      "minimum": -1,
      "default": -1
    },
    "contains": {
      "type": "array",
      "description": "A list of the namespaced IDs of the item entities currently inside this container.",
      "items": {
        "$ref": "common.schema.json#/definitions/namespacedId"
      },
      "default": []
    },
    "allowedTags": {
      "type": "array",
      "description": "Optional. If present, only items possessing ANY of these tags can be placed inside this container. If empty or omitted, any item can be placed inside (subject to capacity).",
      "items": {
        "type": "string",
        "description": "An item tag (e.g., 'key', 'potion', 'currency').",
        "pattern": "^[a-zA-Z0-9_\\-]+$"
      },
      "uniqueItems": true,
      "default": []
    }
  },
  "required": [
    "capacity",
    "contains"
  ],
  "additionalProperties": false
}
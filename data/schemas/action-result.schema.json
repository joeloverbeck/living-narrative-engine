{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/schemas/defs/action-result.schema.json",
  "title": "Action Result Definition",
  "description": "Defines the structure returned by action handlers, indicating outcome and messages.",
  "type": "object",
  "properties": {
    "success": {
      "type": "boolean",
      "description": "Indicates whether the action handler considered the operation successful. Note: Success might indicate valid intent dispatch even if the underlying effect fails (e.g., attack misses)."
    },
    "messages": {
      "type": "array",
      "description": "Optional array of messages generated by the action handler, primarily for internal logging or debugging.",
      "items": {
        "$ref": "#/definitions/actionMessage"
      },
      "default": []
    }
  },
  "required": ["success"],
  "additionalProperties": false,
  "definitions": {
    "actionMessage": {
      "type": "object",
      "description": "Represents a message generated during action processing.",
      "properties": {
        "text": {
          "type": "string",
          "description": "The message content."
        },
        "type": {
          "type": "string",
          "description": "The type or category of the message.",
          "enum": [
            "info",
            "error",
            "success",
            "warning",
            "command",
            "internal"
          ],
          "default": "info"
        }
      },
      "required": ["text"],
      "additionalProperties": false
    }
  }
}
